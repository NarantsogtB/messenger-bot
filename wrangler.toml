name = "messenger-bot-agent"
main = "src/worker.ts"
compatibility_date = "2024-02-06"
compatibility_flags = ["nodejs_compat"]

# Top-level (default/dev) environment
kv_namespaces = [
  { binding = "KV_MAIN", id = "1d01b8f1b0ec4351873adadb0872f651" }
]

[[r2_buckets]]
binding = "R2_ASSETS"
bucket_name = "bot-assets"

[[r2_buckets]]
binding = "R2_IMAGES"
bucket_name = "bot-images"

[vars]
# These are for local development (wrangler dev)
APP_BASE_URL = "http://localhost:8787"
HYBRID_ENABLED = "0"

[env.production]
kv_namespaces = [
  { binding = "KV_MAIN", id = "1d01b8f1b0ec4351873adadb0872f651" }
]
r2_buckets = [
  { binding = "R2_ASSETS", bucket_name = "bot-assets" },
  { binding = "R2_IMAGES", bucket_name = "bot-images" }
]
[env.production.vars]
APP_BASE_URL = "https://messenger-bot-agent-production.seasonal-color-analysis.workers.dev"
HYBRID_ENABLED = "0"
DEBUG_AUTO_PAID = "true"
FEATURE_QUALITY_GATE = "1"
FEATURE_ONBOARDING = "1"
